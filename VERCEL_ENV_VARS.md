# Vercel 环境变量配置指南

## 📍 环境变量环境选择的位置

在 Vercel 中，环境变量的环境选择位置取决于你所在的界面：

### 情况 1：首次部署界面（你当前的位置）

在首次部署时，添加的环境变量**默认会应用到所有环境**（Production、Preview、Development）。

**如果看不到环境选择选项，这是正常的！** 你可以：
1. 先添加变量并部署
2. 部署完成后，在项目设置中再调整环境

### 情况 2：项目设置界面（部署后）

部署完成后，你可以更精确地控制每个变量的环境：

1. **进入项目设置**
   - 点击你的项目名称
   - 点击 "Settings" 标签
   - 在左侧菜单找到 "Environment Variables"

2. **编辑现有变量**
   - 找到你要编辑的变量
   - 点击变量右侧的 "..." 菜单
   - 选择 "Edit"
   - 这时会看到环境选择选项：
     - ☑️ Production
     - ☑️ Preview  
     - ☑️ Development

3. **添加新变量**
   - 点击 "Add New"
   - 输入 Key 和 Value
   - **这时会显示环境选择**：
     - ☑️ Production
     - ☑️ Preview
     - ☑️ Development
   - 勾选你需要的环境
   - 点击 "Save"

## ✅ 当前操作建议

### 对于首次部署：

**你可以直接添加变量并部署，不用担心环境选择！**

1. **添加变量**（就像你现在做的）：
   - `OPENROUTER_API_KEY` = `你的 API Key`
   - `OPENROUTER_MODEL` = `anthropic/claude-3.5-sonnet`

2. **点击 "Deploy"**

3. **部署完成后，如果需要调整环境**：
   - 进入项目 → Settings → Environment Variables
   - 编辑变量，选择具体环境

### 默认行为：

在首次部署界面添加的变量，Vercel 会：
- ✅ 自动应用到 **Production** 环境
- ✅ 自动应用到 **Preview** 环境  
- ✅ 自动应用到 **Development** 环境

所以即使看不到环境选择，变量也会在所有环境中生效，这是安全的默认行为。

## 🔍 如何确认环境变量已添加

在首次部署界面，添加变量后，你应该能看到：
- ✅ 变量出现在列表中
- ✅ 有 Key 和 Value 列
- ✅ 有删除按钮（减号图标）

如果能看到这些，说明变量已正确添加。

## 📝 推荐的变量配置

对于你的项目，建议添加：

| 变量名 | 值 | 说明 |
|--------|-----|------|
| `OPENROUTER_API_KEY` | `你的 API Key` | 必需，用于 AI 解读 |
| `OPENROUTER_MODEL` | `anthropic/claude-3.5-sonnet` | 可选，默认模型 |
| `NEXT_PUBLIC_APP_URL` | `https://your-app.vercel.app` | 可选，部署后更新 |

## 🚀 下一步

1. **确认变量已添加**（在列表中能看到）
2. **点击 "Deploy" 按钮**
3. **等待部署完成**
4. **如果需要，部署后调整环境设置**

---

**总结**：在首次部署界面看不到环境选择是正常的，变量会默认应用到所有环境。部署完成后可以在项目设置中精确控制。
